<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Pasos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .form-step {
            display: none;
            border: 2px solid #007bff;
            padding: 20px;
            margin: 10px 0;
            border-radius: 5px;
        }
        
        .form-step.active {
            display: block;
            background-color: #e7f3ff;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header">
                        <h3>Debug - Navegaci√≥n entre pasos</h3>
                        <p>Paso actual: <span id="currentStepDisplay">1</span></p>
                    </div>
                    <div class="card-body">
                        <!-- Paso 1 -->
                        <div class="form-step active" id="step1">
                            <h4>PASO 1 - Informaci√≥n b√°sica</h4>
                            <p>Este es el primer paso del formulario.</p>
                            <div class="mb-3">
                                <input type="email" class="form-control" placeholder="tu@email.com" id="email">
                            </div>
                            <button type="button" class="btn btn-primary" id="continueStep1">
                                IR AL PASO 2 ‚Üí
                            </button>
                        </div>
                        
                        <!-- Paso 2 -->
                        <div class="form-step" id="step2">
                            <h4>PASO 2 - Informaci√≥n de empresa</h4>
                            <p>Este es el segundo paso del formulario.</p>
                            <div class="mb-3">
                                <input type="text" class="form-control" placeholder="Nombre empresa" id="company">
                            </div>
                            <button type="button" class="btn btn-secondary me-2" id="backStep2">
                                ‚Üê VOLVER AL PASO 1
                            </button>
                            <button type="button" class="btn btn-primary" id="continueStep2">
                                IR AL PASO 3 ‚Üí
                            </button>
                        </div>
                        
                        <!-- Paso 3 -->
                        <div class="form-step" id="step3">
                            <h4>PASO 3 - Finalizar</h4>
                            <p>Este es el √∫ltimo paso del formulario.</p>
                            <div class="mb-3">
                                <select class="form-control">
                                    <option>Plan B√°sico</option>
                                    <option>Plan Premium</option>
                                </select>
                            </div>
                            <button type="button" class="btn btn-secondary me-2" id="backStep3">
                                ‚Üê VOLVER AL PASO 2
                            </button>
                            <button type="button" class="btn btn-success" id="finishButton">
                                FINALIZAR ‚úì
                            </button>
                        </div>
                        
                        <div class="mt-4">
                            <h5>Log de eventos:</h5>
                            <div id="eventLog" class="border p-3 bg-light" style="height: 200px; overflow-y: auto;">
                                P√°gina cargada...<br>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        
        function log(message) {
            const logDiv = document.getElementById('eventLog');
            const time = new Date().toLocaleTimeString();
            logDiv.innerHTML += `[${time}] ${message}<br>`;
            logDiv.scrollTop = logDiv.scrollHeight;
            console.log(message);
        }
        
        function showStep(stepNumber) {
            log(`Intentando mostrar paso ${stepNumber}`);
            
            // Ocultar todos los pasos
            for (let i = 1; i <= 3; i++) {
                const step = document.getElementById(`step${i}`);
                if (step) {
                    step.classList.remove('active');
                    log(`Paso ${i} ocultado`);
                } else {
                    log(`ERROR: No se encontr√≥ step${i}`);
                }
            }
            
            // Mostrar paso actual
            const targetStep = document.getElementById(`step${stepNumber}`);
            if (targetStep) {
                targetStep.classList.add('active');
                currentStep = stepNumber;
                document.getElementById('currentStepDisplay').textContent = stepNumber;
                log(`‚úÖ Paso ${stepNumber} mostrado correctamente`);
            } else {
                log(`‚ùå ERROR: No se encontr√≥ step${stepNumber}`);
            }
        }
        
        // Esperar a que el DOM est√© listo
        document.addEventListener('DOMContentLoaded', function() {
            log('DOM cargado - Configurando botones...');
            
            // Bot√≥n continuar paso 1
            const btn1 = document.getElementById('continueStep1');
            if (btn1) {
                btn1.addEventListener('click', function() {
                    log('üîµ CLICK en continueStep1');
                    showStep(2);
                });
                log('‚úÖ Bot√≥n continueStep1 configurado');
            } else {
                log('‚ùå ERROR: No se encontr√≥ continueStep1');
            }
            
            // Bot√≥n continuar paso 2
            const btn2 = document.getElementById('continueStep2');
            if (btn2) {
                btn2.addEventListener('click', function() {
                    log('üîµ CLICK en continueStep2');
                    showStep(3);
                });
                log('‚úÖ Bot√≥n continueStep2 configurado');
            } else {
                log('‚ùå ERROR: No se encontr√≥ continueStep2');
            }
            
            // Bot√≥n atr√°s paso 2
            const back2 = document.getElementById('backStep2');
            if (back2) {
                back2.addEventListener('click', function() {
                    log('üîµ CLICK en backStep2');
                    showStep(1);
                });
                log('‚úÖ Bot√≥n backStep2 configurado');
            }
            
            // Bot√≥n atr√°s paso 3
            const back3 = document.getElementById('backStep3');
            if (back3) {
                back3.addEventListener('click', function() {
                    log('üîµ CLICK en backStep3');
                    showStep(2);
                });
                log('‚úÖ Bot√≥n backStep3 configurado');
            }
            
            // Bot√≥n finalizar
            const finish = document.getElementById('finishButton');
            if (finish) {
                finish.addEventListener('click', function() {
                    log('üîµ CLICK en finishButton');
                    alert('¬°Formulario completado!');
                });
                log('‚úÖ Bot√≥n finishButton configurado');
            }
            
            log('üöÄ Todos los botones configurados - ¬°Prueba hacer clic!');
        });
    </script>
</body>
</html>
